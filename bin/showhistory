#!/bin/bash
#
# Show project history with gource

if [[ $(which gource 2> /dev/null) == "" ]]; then
  echo "gource is not installed!"
  exit 1
fi

gource \
  --seconds-per-day 0.2 \
  --file-idle-time 0 \
  --auto-skip-seconds 1 \
  --title "WebTech CaseStudy" \
  -1280x720 -o - | \
    ffmpeg -y -r 60 \
      -f image2pipe -vcodec ppm -i - -vcodec libx264 \
      -preset ultrafast \
      -pix_fmt yuv420p \
      -crf 1 \
      -threads 0 \
      -bf 0 \
      history.mp4
